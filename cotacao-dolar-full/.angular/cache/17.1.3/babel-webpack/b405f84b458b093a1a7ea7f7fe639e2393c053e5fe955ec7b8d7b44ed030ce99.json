{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet AppComponent = class AppComponent {\n  constructor(cotacaoDolarService, dateFormat) {\n    this.cotacaoDolarService = cotacaoDolarService;\n    this.dateFormat = dateFormat;\n    this.cotacaoAtual = 0;\n    this.cotacaoPorPeriodoLista = [];\n    this.showErrorAlert = false;\n    this.backgroundImage = 'url(./assets/images/back5.png)';\n    this.apenasCotacoesMenores = false;\n  }\n  ngOnInit() {\n    this.cotacaoDolarService.getCotacaoAtual().subscribe(cotacao => {\n      this.cotacaoAtual = cotacao;\n    });\n  }\n  getCotacaoPorPeriodo(dataInicialString, dataFinalString) {\n    this.cotacaoPorPeriodoLista = [];\n    const dataInicial = this.dateFormat.transform(dataInicialString, 'MM-dd-yyyy') || '';\n    const dataFinal = this.dateFormat.transform(dataFinalString, 'MM-dd-yyyy') || '';\n    if (this.apenasCotacoesMenores) {\n      this.getCotacaoMenorAtual(dataInicial, dataFinal);\n    } else {\n      if (dataInicial && dataFinal && this.compararDatas(dataInicial, dataFinal) && this.validarDataAtual(dataInicial, dataFinal)) {\n        this.showErrorAlert = false;\n        this.cotacaoDolarService.getCotacaoPorPeriodoFront(dataInicial, dataFinal).subscribe(cotacoes => {\n          this.cotacaoPorPeriodoLista = cotacoes;\n        });\n      } else {\n        this.showErrorAlert = true;\n      }\n    }\n  }\n  getCotacaoMenorAtual(dataInicial, dataFinal) {\n    this.cotacaoDolarService.getCotacaoMenorAtual(dataInicial, dataFinal).subscribe(cotacoes => {\n      this.cotacaoPorPeriodoLista = cotacoes;\n    });\n  }\n  compararDatas(dataInicial, dataFinal) {\n    const dateInicial = new Date(dataInicial);\n    const dateFinal = new Date(dataFinal);\n    return dateInicial <= dateFinal;\n  }\n  validarDataAtual(dataInicial, dataFinal) {\n    const dataAtual = new Date();\n    const dateInicial = new Date(dataInicial);\n    const dateFinal = new Date(dataFinal);\n    return dateInicial <= dataAtual && dateFinal <= dataAtual;\n  }\n};\nAppComponent = __decorate([Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})], AppComponent);\nexport { AppComponent };","map":{"version":3,"names":["Component","AppComponent","constructor","cotacaoDolarService","dateFormat","cotacaoAtual","cotacaoPorPeriodoLista","showErrorAlert","backgroundImage","apenasCotacoesMenores","ngOnInit","getCotacaoAtual","subscribe","cotacao","getCotacaoPorPeriodo","dataInicialString","dataFinalString","dataInicial","transform","dataFinal","getCotacaoMenorAtual","compararDatas","validarDataAtual","getCotacaoPorPeriodoFront","cotacoes","dateInicial","Date","dateFinal","dataAtual","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\jeans\\Desktop\\Entrevista SHX\\cotacao-dolar-full\\src\\app\\app.component.ts"],"sourcesContent":["import { DatePipe } from '@angular/common';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { Cotacao } from './cotacao';\r\nimport { CotacaoDolarService } from './cotacaodolar.service';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css'],\r\n})\r\nexport class AppComponent implements OnInit {\r\n  cotacaoAtual = 0;\r\n  cotacaoPorPeriodoLista: Cotacao[] = [];\r\n  showErrorAlert = false;\r\n  backgroundImage = 'url(./assets/images/back5.png)';\r\n  apenasCotacoesMenores = false;\r\n\r\n  constructor(\r\n    private cotacaoDolarService: CotacaoDolarService,\r\n    private dateFormat: DatePipe\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.cotacaoDolarService.getCotacaoAtual().subscribe(cotacao => {\r\n      this.cotacaoAtual = cotacao;\r\n    });\r\n  }\r\n\r\n  public getCotacaoPorPeriodo(\r\n    dataInicialString: string,\r\n    dataFinalString: string\r\n  ): void {\r\n    this.cotacaoPorPeriodoLista = [];\r\n\r\n    const dataInicial = this.dateFormat.transform(dataInicialString, 'MM-dd-yyyy') || '';\r\n    const dataFinal = this.dateFormat.transform(dataFinalString, 'MM-dd-yyyy') || '';\r\n\r\n    if (this.apenasCotacoesMenores) {\r\n      this.getCotacaoMenorAtual(dataInicial, dataFinal);\r\n    } else {\r\n      if (dataInicial && dataFinal && this.compararDatas(dataInicial, dataFinal) && this.validarDataAtual(dataInicial, dataFinal)) {\r\n        this.showErrorAlert = false;\r\n        this.cotacaoDolarService.getCotacaoPorPeriodoFront(dataInicial, dataFinal).subscribe(cotacoes => {\r\n          this.cotacaoPorPeriodoLista = cotacoes;\r\n        });\r\n      } else {\r\n        this.showErrorAlert = true;\r\n      }\r\n    }\r\n  }\r\n\r\n  public getCotacaoMenorAtual(dataInicial: string, dataFinal: string): void {\r\n      this.cotacaoDolarService.getCotacaoMenorAtual(dataInicial, dataFinal).subscribe(cotacoes => {\r\n       this.cotacaoPorPeriodoLista = cotacoes;\r\n     });\r\n  }\r\n\r\n  private compararDatas(dataInicial: string, dataFinal: string): boolean {\r\n    const dateInicial = new Date(dataInicial);\r\n    const dateFinal = new Date(dataFinal);\r\n\r\n    return dateInicial <= dateFinal;\r\n  }\r\n\r\n  private validarDataAtual(dataInicial: string, dataFinal: string): boolean {\r\n    const dataAtual = new Date();\r\n    const dateInicial = new Date(dataInicial);\r\n    const dateFinal = new Date(dataFinal);\r\n\r\n    return dateInicial <= dataAtual && dateFinal <= dataAtual;\r\n  }\r\n\r\n\r\n}\r\n"],"mappings":";AACA,SAASA,SAAS,QAAgB,eAAe;AAS1C,IAAMC,YAAY,GAAlB,MAAMA,YAAY;EAOvBC,YACUC,mBAAwC,EACxCC,UAAoB;IADpB,KAAAD,mBAAmB,GAAnBA,mBAAmB;IACnB,KAAAC,UAAU,GAAVA,UAAU;IARpB,KAAAC,YAAY,GAAG,CAAC;IAChB,KAAAC,sBAAsB,GAAc,EAAE;IACtC,KAAAC,cAAc,GAAG,KAAK;IACtB,KAAAC,eAAe,GAAG,gCAAgC;IAClD,KAAAC,qBAAqB,GAAG,KAAK;EAK1B;EAEHC,QAAQA,CAAA;IACN,IAAI,CAACP,mBAAmB,CAACQ,eAAe,EAAE,CAACC,SAAS,CAACC,OAAO,IAAG;MAC7D,IAAI,CAACR,YAAY,GAAGQ,OAAO;IAC7B,CAAC,CAAC;EACJ;EAEOC,oBAAoBA,CACzBC,iBAAyB,EACzBC,eAAuB;IAEvB,IAAI,CAACV,sBAAsB,GAAG,EAAE;IAEhC,MAAMW,WAAW,GAAG,IAAI,CAACb,UAAU,CAACc,SAAS,CAACH,iBAAiB,EAAE,YAAY,CAAC,IAAI,EAAE;IACpF,MAAMI,SAAS,GAAG,IAAI,CAACf,UAAU,CAACc,SAAS,CAACF,eAAe,EAAE,YAAY,CAAC,IAAI,EAAE;IAEhF,IAAI,IAAI,CAACP,qBAAqB,EAAE;MAC9B,IAAI,CAACW,oBAAoB,CAACH,WAAW,EAAEE,SAAS,CAAC;IACnD,CAAC,MAAM;MACL,IAAIF,WAAW,IAAIE,SAAS,IAAI,IAAI,CAACE,aAAa,CAACJ,WAAW,EAAEE,SAAS,CAAC,IAAI,IAAI,CAACG,gBAAgB,CAACL,WAAW,EAAEE,SAAS,CAAC,EAAE;QAC3H,IAAI,CAACZ,cAAc,GAAG,KAAK;QAC3B,IAAI,CAACJ,mBAAmB,CAACoB,yBAAyB,CAACN,WAAW,EAAEE,SAAS,CAAC,CAACP,SAAS,CAACY,QAAQ,IAAG;UAC9F,IAAI,CAAClB,sBAAsB,GAAGkB,QAAQ;QACxC,CAAC,CAAC;MACJ,CAAC,MAAM;QACL,IAAI,CAACjB,cAAc,GAAG,IAAI;MAC5B;IACF;EACF;EAEOa,oBAAoBA,CAACH,WAAmB,EAAEE,SAAiB;IAC9D,IAAI,CAAChB,mBAAmB,CAACiB,oBAAoB,CAACH,WAAW,EAAEE,SAAS,CAAC,CAACP,SAAS,CAACY,QAAQ,IAAG;MAC1F,IAAI,CAAClB,sBAAsB,GAAGkB,QAAQ;IACxC,CAAC,CAAC;EACL;EAEQH,aAAaA,CAACJ,WAAmB,EAAEE,SAAiB;IAC1D,MAAMM,WAAW,GAAG,IAAIC,IAAI,CAACT,WAAW,CAAC;IACzC,MAAMU,SAAS,GAAG,IAAID,IAAI,CAACP,SAAS,CAAC;IAErC,OAAOM,WAAW,IAAIE,SAAS;EACjC;EAEQL,gBAAgBA,CAACL,WAAmB,EAAEE,SAAiB;IAC7D,MAAMS,SAAS,GAAG,IAAIF,IAAI,EAAE;IAC5B,MAAMD,WAAW,GAAG,IAAIC,IAAI,CAACT,WAAW,CAAC;IACzC,MAAMU,SAAS,GAAG,IAAID,IAAI,CAACP,SAAS,CAAC;IAErC,OAAOM,WAAW,IAAIG,SAAS,IAAID,SAAS,IAAIC,SAAS;EAC3D;CAGD;AA/DY3B,YAAY,GAAA4B,UAAA,EALxB7B,SAAS,CAAC;EACT8B,QAAQ,EAAE,UAAU;EACpBC,WAAW,EAAE,sBAAsB;EACnCC,SAAS,EAAE,CAAC,qBAAqB;CAClC,CAAC,C,EACW/B,YAAY,CA+DxB"},"metadata":{},"sourceType":"module","externalDependencies":[]}
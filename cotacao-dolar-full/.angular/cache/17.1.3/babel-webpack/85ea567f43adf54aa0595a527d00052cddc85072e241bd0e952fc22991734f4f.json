{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet AppComponent = class AppComponent {\n  constructor(cotacaoDolarService, dateFormat) {\n    this.cotacaoDolarService = cotacaoDolarService;\n    this.dateFormat = dateFormat;\n    this.cotacaoAtual = 0;\n    this.cotacaoPorPeriodoLista = [];\n    this.showErrorAlert = false;\n  }\n  getCotacaoPorPeriodo(dataInicialString, dataFinalString) {\n    this.cotacaoPorPeriodoLista = [];\n    const dataInicial = this.dateFormat.transform(dataInicialString, 'MM-dd-yyyy') || '';\n    const dataFinal = this.dateFormat.transform(dataFinalString, 'MM-dd-yyyy') || '';\n    if (dataInicial && dataFinal && this.compararDatas(dataInicial, dataFinal) && this.validarDataAtual(dataInicial, dataFinal)) {\n      this.showErrorAlert = false;\n      this.cotacaoDolarService.getCotacaoPorPeriodoFront(dataInicial, dataFinal).subscribe(cotacoes => {\n        this.cotacaoPorPeriodoLista = cotacoes;\n      });\n      this.cotacaoDolarService.getCotacaoAtual().subscribe(cotacao => {\n        this.cotacaoAtual = cotacao;\n      });\n    } else {\n      this.showErrorAlert = true;\n    }\n  }\n  compararDatas(dataInicial, dataFinal) {\n    const dateInicial = new Date(dataInicial);\n    const dateFinal = new Date(dataFinal);\n    return dateInicial <= dateFinal;\n  }\n  validarDataAtual(dataInicial, dataFinal) {\n    const dataAtual = new Date();\n    const dateInicial = new Date(dataInicial);\n    const dateFinal = new Date(dataFinal);\n    return dateInicial <= dataAtual && dateFinal <= dataAtual;\n  }\n  ngOnInit() {\n    this.cotacaoDolarService.getCotacaoAtual().subscribe(cotacao => {\n      this.cotacaoAtual = cotacao;\n    });\n  }\n};\nAppComponent = __decorate([Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})], AppComponent);\nexport { AppComponent };","map":{"version":3,"names":["Component","AppComponent","constructor","cotacaoDolarService","dateFormat","cotacaoAtual","cotacaoPorPeriodoLista","showErrorAlert","getCotacaoPorPeriodo","dataInicialString","dataFinalString","dataInicial","transform","dataFinal","compararDatas","validarDataAtual","getCotacaoPorPeriodoFront","subscribe","cotacoes","getCotacaoAtual","cotacao","dateInicial","Date","dateFinal","dataAtual","ngOnInit","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\jeans\\Desktop\\Entrevista SHX\\cotacao-dolar-full\\src\\app\\app.component.ts"],"sourcesContent":["import { DatePipe } from '@angular/common';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { Cotacao } from './cotacao';\r\nimport { CotacaoDolarService } from './cotacaodolar.service';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css'],\r\n})\r\nexport class AppComponent implements OnInit {\r\n  cotacaoAtual = 0;\r\n  cotacaoPorPeriodoLista: Cotacao[] = [];\r\n  showErrorAlert = false;\r\n\r\n  constructor(\r\n    private cotacaoDolarService: CotacaoDolarService,\r\n    private dateFormat: DatePipe\r\n  ) {}\r\n\r\n  public getCotacaoPorPeriodo(\r\n    dataInicialString: string,\r\n    dataFinalString: string\r\n  ): void {\r\n    this.cotacaoPorPeriodoLista = [];\r\n\r\n    const dataInicial = this.dateFormat.transform(dataInicialString, 'MM-dd-yyyy') || '';\r\n    const dataFinal = this.dateFormat.transform(dataFinalString, 'MM-dd-yyyy') || '';\r\n\r\n    if (dataInicial && dataFinal && this.compararDatas(dataInicial, dataFinal) && this.validarDataAtual(dataInicial, dataFinal)) {\r\n      this.showErrorAlert = false;\r\n      this.cotacaoDolarService.getCotacaoPorPeriodoFront(dataInicial, dataFinal).subscribe(cotacoes => {\r\n        this.cotacaoPorPeriodoLista = cotacoes;\r\n      });\r\n\r\n      this.cotacaoDolarService.getCotacaoAtual().subscribe(cotacao => {\r\n            this.cotacaoAtual = cotacao;\r\n      });\r\n\r\n    } else {\r\n      this.showErrorAlert = true;\r\n    }\r\n  }\r\n\r\n  private compararDatas(dataInicial: string, dataFinal: string): boolean {\r\n    const dateInicial = new Date(dataInicial);\r\n    const dateFinal = new Date(dataFinal);\r\n\r\n    return dateInicial <= dateFinal;\r\n  }\r\n\r\n  private validarDataAtual(dataInicial: string, dataFinal: string): boolean {\r\n    const dataAtual = new Date();\r\n    const dateInicial = new Date(dataInicial);\r\n    const dateFinal = new Date(dataFinal);\r\n\r\n    return dateInicial <= dataAtual && dateFinal <= dataAtual;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.cotacaoDolarService.getCotacaoAtual().subscribe(cotacao => {\r\n      this.cotacaoAtual = cotacao;\r\n    });\r\n  }\r\n}\r\n"],"mappings":";AACA,SAASA,SAAS,QAAgB,eAAe;AAS1C,IAAMC,YAAY,GAAlB,MAAMA,YAAY;EAKvBC,YACUC,mBAAwC,EACxCC,UAAoB;IADpB,KAAAD,mBAAmB,GAAnBA,mBAAmB;IACnB,KAAAC,UAAU,GAAVA,UAAU;IANpB,KAAAC,YAAY,GAAG,CAAC;IAChB,KAAAC,sBAAsB,GAAc,EAAE;IACtC,KAAAC,cAAc,GAAG,KAAK;EAKnB;EAEIC,oBAAoBA,CACzBC,iBAAyB,EACzBC,eAAuB;IAEvB,IAAI,CAACJ,sBAAsB,GAAG,EAAE;IAEhC,MAAMK,WAAW,GAAG,IAAI,CAACP,UAAU,CAACQ,SAAS,CAACH,iBAAiB,EAAE,YAAY,CAAC,IAAI,EAAE;IACpF,MAAMI,SAAS,GAAG,IAAI,CAACT,UAAU,CAACQ,SAAS,CAACF,eAAe,EAAE,YAAY,CAAC,IAAI,EAAE;IAEhF,IAAIC,WAAW,IAAIE,SAAS,IAAI,IAAI,CAACC,aAAa,CAACH,WAAW,EAAEE,SAAS,CAAC,IAAI,IAAI,CAACE,gBAAgB,CAACJ,WAAW,EAAEE,SAAS,CAAC,EAAE;MAC3H,IAAI,CAACN,cAAc,GAAG,KAAK;MAC3B,IAAI,CAACJ,mBAAmB,CAACa,yBAAyB,CAACL,WAAW,EAAEE,SAAS,CAAC,CAACI,SAAS,CAACC,QAAQ,IAAG;QAC9F,IAAI,CAACZ,sBAAsB,GAAGY,QAAQ;MACxC,CAAC,CAAC;MAEF,IAAI,CAACf,mBAAmB,CAACgB,eAAe,EAAE,CAACF,SAAS,CAACG,OAAO,IAAG;QACzD,IAAI,CAACf,YAAY,GAAGe,OAAO;MACjC,CAAC,CAAC;IAEJ,CAAC,MAAM;MACL,IAAI,CAACb,cAAc,GAAG,IAAI;IAC5B;EACF;EAEQO,aAAaA,CAACH,WAAmB,EAAEE,SAAiB;IAC1D,MAAMQ,WAAW,GAAG,IAAIC,IAAI,CAACX,WAAW,CAAC;IACzC,MAAMY,SAAS,GAAG,IAAID,IAAI,CAACT,SAAS,CAAC;IAErC,OAAOQ,WAAW,IAAIE,SAAS;EACjC;EAEQR,gBAAgBA,CAACJ,WAAmB,EAAEE,SAAiB;IAC7D,MAAMW,SAAS,GAAG,IAAIF,IAAI,EAAE;IAC5B,MAAMD,WAAW,GAAG,IAAIC,IAAI,CAACX,WAAW,CAAC;IACzC,MAAMY,SAAS,GAAG,IAAID,IAAI,CAACT,SAAS,CAAC;IAErC,OAAOQ,WAAW,IAAIG,SAAS,IAAID,SAAS,IAAIC,SAAS;EAC3D;EAEAC,QAAQA,CAAA;IACN,IAAI,CAACtB,mBAAmB,CAACgB,eAAe,EAAE,CAACF,SAAS,CAACG,OAAO,IAAG;MAC7D,IAAI,CAACf,YAAY,GAAGe,OAAO;IAC7B,CAAC,CAAC;EACJ;CACD;AAtDYnB,YAAY,GAAAyB,UAAA,EALxB1B,SAAS,CAAC;EACT2B,QAAQ,EAAE,UAAU;EACpBC,WAAW,EAAE,sBAAsB;EACnCC,SAAS,EAAE,CAAC,qBAAqB;CAClC,CAAC,C,EACW5B,YAAY,CAsDxB"},"metadata":{},"sourceType":"module","externalDependencies":[]}